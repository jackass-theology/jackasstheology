(function(b){var c={init:function(){var a=this;setTimeout(function(){a.elements();a.events()},1)},elements:function(){this.cache={};this.cache.$gutenbergEditor=b("#editor");this.cache.$gutenbergSwitch=b(b("#tdc-gutenberg-button-switch").html());this.cache.$gutenbergEditor.find(".edit-post-header-toolbar").append(this.cache.$gutenbergSwitch);this.cache.$switchButton=this.cache.$gutenbergSwitch.find("#tdc-switch-button")},events:function(){var a=this;a.cache.$switchButton.on("click",function(b){b.preventDefault();
wp.data.select("core/editor").getEditedPostAttribute("title")||wp.data.dispatch("core/editor").editPost({title:"TagDiv Composer Draft"});wp.data.dispatch("core/editor").savePost();a.redirectWhenSave()})},redirectWhenSave:function(){var a=this;setTimeout(function(){wp.data.select("core/editor").isSavingPost()?a.redirectWhenSave():location.href=tdcGutenbergSettings.tdcEditLink},300)}};b(function(){c.init()})})(jQuery);
